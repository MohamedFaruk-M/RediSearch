version: 0.5
name: "vecsim-arxiv-titles-384-angular-filters-m16-ef-128-fulltext-filter"
metadata:
  component: "vecsim"
remote:
 - type: oss-standalone
 - setup: redisearch-m5
timeout_seconds: 1800
setups:
  - oss-standalone
  - oss-cluster-03-primaries
  - oss-cluster-05-primaries
  - oss-cluster-09-primaries

dbconfig:
  - dataset_name: "arxiv-titles-384-angular-filters-m16-ef-128-fulltext"
  - dataset: "https://s3.amazonaws.com/benchmarks.redislabs/redisearch/internal.tasks/arxiv-titles-384-angular-filters/arvix-titles-384-dump.rdb"
  - dataset_load_timeout_secs: 1000
  - init_commands:
    - '"FT.CREATE" "idx" "SCHEMA" "vector" "VECTOR" "HNSW" "10" "TYPE" "FLOAT32" "DIM" "384" "DISTANCE_METRIC" "COSINE" "M" "16" "EF_CONSTRUCTION" "128" "update_date_ts" "NUMERIC" "labels" "TAG" "SEPARATOR" ";" "SORTABLE" "submitter" "TAG" "SEPARATOR" ";" "abstract" "TEXT" "SORTABLE"'
  - check:
    - keyspacelen: 100000

clientconfig:
  benchmark_type: "read-only"
  tool: memtier_benchmark
  arguments: "--test-time 120 -c 32 -t 1 --hide-histogram --command 'FT.SEARCH idx \"(@abstract:algebra*)=>[KNN 25 @vector $vec_param EF_RUNTIME 64 AS vector_score]\" TIMEOUT 90000  RETURN 1 vector_score SORTBY vector_score DESC DIALECT 2 LIMIT 0 25 params 2 vec_param ????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????'"
